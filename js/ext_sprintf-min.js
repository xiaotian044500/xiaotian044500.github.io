(function(e){var c={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function g(){var i=arguments[0],h=g.cache;if(!(h[i]&&h.hasOwnProperty(i))){h[i]=g.parse(i)}return g.format.call(null,h[i],arguments)}g.format=function(s,r){var w=1,u=s.length,o="",x,j=[],p,m,q,l,t,v,n=true,h="";for(p=0;p<u;p++){o=b(s[p]);if(o==="string"){j[j.length]=s[p]}else{if(o==="array"){q=s[p];if(q[2]){x=r[w];for(m=0;m<q[2].length;m++){if(!x.hasOwnProperty(q[2][m])){throw new Error(g('[sprintf] property "%s" does not exist',q[2][m]))}x=x[q[2][m]]}}else{if(q[1]){x=r[q[1]]}else{x=r[w++]}}if(c.not_type.test(q[8])&&c.not_primitive.test(q[8])&&b(x)=="function"){x=x()}if(c.numeric_arg.test(q[8])&&(b(x)!="number"&&isNaN(x))){throw new TypeError(g("[sprintf] expecting number but found %s",b(x)))}if(c.number.test(q[8])){n=x>=0}switch(q[8]){case"b":x=parseInt(x,10).toString(2);break;case"c":x=String.fromCharCode(parseInt(x,10));break;case"d":case"i":x=parseInt(x,10);break;case"j":x=JSON.stringify(x,null,q[6]?parseInt(q[6]):0);break;case"e":x=q[7]?parseFloat(x).toExponential(q[7]):parseFloat(x).toExponential();break;case"f":x=q[7]?parseFloat(x).toFixed(q[7]):parseFloat(x);break;case"g":x=q[7]?parseFloat(x).toPrecision(q[7]):parseFloat(x);break;case"o":x=x.toString(8);break;case"s":x=String(x);x=(q[7]?x.substring(0,q[7]):x);break;case"t":x=String(!!x);x=(q[7]?x.substring(0,q[7]):x);break;case"T":x=b(x);x=(q[7]?x.substring(0,q[7]):x);break;case"u":x=parseInt(x,10)>>>0;break;case"v":x=x.valueOf();x=(q[7]?x.substring(0,q[7]):x);break;case"x":x=parseInt(x,10).toString(16);break;case"X":x=parseInt(x,10).toString(16).toUpperCase();break}if(c.json.test(q[8])){j[j.length]=x}else{if(c.number.test(q[8])&&(!n||q[3])){h=n?"+":"-";x=x.toString().replace(c.sign,"")}else{h=""}t=q[4]?q[4]==="0"?"0":q[4].charAt(1):" ";v=q[6]-(h+x).length;l=q[6]?(v>0?d(t,v):""):"";j[j.length]=q[5]?h+x+l:(t==="0"?h+l+x:l+h+x)}}}}return j.join("")};g.cache={};g.parse=function(h){var k=h,l=[],n=[],m=0;while(k){if((l=c.text.exec(k))!==null){n[n.length]=l[0]}else{if((l=c.modulo.exec(k))!==null){n[n.length]="%"}else{if((l=c.placeholder.exec(k))!==null){if(l[2]){m|=1;var o=[],j=l[2],i=[];if((i=c.key.exec(j))!==null){o[o.length]=i[1];while((j=j.substring(i[0].length))!==""){if((i=c.key_access.exec(j))!==null){o[o.length]=i[1]}else{if((i=c.index_access.exec(j))!==null){o[o.length]=i[1]}else{throw new SyntaxError("[sprintf] failed to parse named argument key")}}}}else{throw new SyntaxError("[sprintf] failed to parse named argument key")}l[2]=o}else{m|=2}if(m===3){throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported")}n[n.length]=l}else{throw new SyntaxError("[sprintf] unexpected placeholder")}}}k=k.substring(l[0].length)}return n};var f=function(i,h,j){j=(h||[]).slice(0);j.splice(0,0,i);return g.apply(null,j)};function b(h){if(typeof h==="number"){return"number"}else{if(typeof h==="string"){return"string"}else{return Object.prototype.toString.call(h).slice(8,-1).toLowerCase()}}}var a={"0":["","0","00","000","0000","00000","000000","0000000"]," ":[""," ","  ","   ","    ","     ","      ","       "],_:["","_","__","___","____","_____","______","_______"]};function d(h,i){if(i>=0&&i<=7&&a[h]){return a[h][i]}return Array(i+1).join(h)}if(typeof exports!=="undefined"){exports.sprintf=g;exports.vsprintf=f}if(typeof e!=="undefined"){e.sprintf=g;e.vsprintf=f;if(typeof define==="function"&&define.amd){define(function(){return{sprintf:g,vsprintf:f}})}}})(typeof window==="undefined"?this:window);